┌──────────────────────────────────────────────────────────────┐
│                        UI / PRESENTATION                      │
│                        (React Components)                     │
├──────────────────────────────────────────────────────────────┤
│  Screens / Buttons / Navigation                               │
│        │                                                      │
│        ▼                                                      │
│  AuthFlowProvider  ───────────────────────────────────────────┐
│        │ (steuert UI-Zustände)                                │
│        │                                                      │
│        ▼                                                      │
│  ┌──────────────────────────────────────────────────────────┐ │
│  │                     AUTH MODAL FLOW                      │ │
│  │                                                          │ │
│  │  AuthRequestModal  ←→  LoginModal  ←→  RegisterModal     │ │
│  │                                ↓                         │ │
│  │                         PasswordResetModal               │ │
│  └──────────────────────────────────────────────────────────┘ │
│        │                                                      │
│        ▼                                                      │
├──────────────────────────────────────────────────────────────┤
│                     APPLICATION / DOMAIN LAYER                │
│                        (Business Logic)                       │
├──────────────────────────────────────────────────────────────┤
│  Repositories                                                │
│  ┌──────────────────────────────────────────────────────────┐│
│  │ authRepository                                           ││
│  │  - loginUser()                                           ││
│  │  - registerUser()                                        ││
│  │  - requestPasswordReset()                                ││
│  │  - validate inputs (optional)                            ││
│  │  - Fehlerbehandlung                                      ││
│  └──────────────────────────────────────────────────────────┘│
│        │                                                      │
│        ▼                                                      │
├──────────────────────────────────────────────────────────────┤
│                     DATA / API LAYER                          │
│                     (Supabase Wrapper)                        │
├──────────────────────────────────────────────────────────────┤
│  lib/api/auth.ts                                             │
│  ┌──────────────────────────────────────────────────────────┐│
│  │  - login()                                               ││
│  │  - register()                                            ││
│  │  - resetPassword()                                       ││
│  │  (dünne Wrapper, keine Logik)                            ││
│  └──────────────────────────────────────────────────────────┘│
│        │                                                      │
│        ▼                                                      │
├──────────────────────────────────────────────────────────────┤
│                     INFRASTRUCTURE LAYER                      │
│                     (Supabase Client)                         │
├──────────────────────────────────────────────────────────────┤
│  lib/supabase.ts                                             │
│  ┌──────────────────────────────────────────────────────────┐│
│  │  createClient()                                          ││
│  │  (keine Logik, nur Setup)                                ││
│  └──────────────────────────────────────────────────────────┘│
└──────────────────────────────────────────────────────────────┘
